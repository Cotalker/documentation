

## Overview {#ovewrview}
The **Send Email** stage routine is a bot that automatically generates and sends customized emails within a routine.

## Settings Layout {#settings}

<div className="container">
<div className="row">
<div className="col col--6">

<div className="img_sizing_narrow">

![template](/img/bot_send_email_01v3.png)

</div>

</div>
<div className="col col--6">

- **<span className="badge badge--success">A.</span> Subject**: String sent as the subject of the email.
- **<span className="badge badge--success">B.</span> Object**: JSON object with email template keys and values. Use either the default or a customized template. [Template info below](#template).
- **<span className="badge badge--success">C.</span> + Add Item**: Add recipient emails to an array.
- **<span className="badge badge--success">D.</span> Add Optional Inputs**: Optional inputs include:
  - From
  - Attachments
  - CC
  - BCC
  - HTML Template
  - CSS Template
  - Individual Shipping<br/>_More details in the [Inputs](#inputs) section below or by selecting the option from the navigation bar on the right side of the screen._

</div>

</div>
</div>

## Templates {#template}
An HTML template is required to generate the email's basic design structure. You can choose between _default_ and _customized_. Whichever option you choose, you must add the template's variables in the **Object** section in JSON format.

To use a custom template, you must select _HTML Template_ from the **Add Optional Inputs** section. Additionally, a _CSS Template_ can also be added for further customized design.

If you don't provide your own HTML template, the system will expect you to use the _default email template_.

### Default Email Template {#default}
When no template is provided, you must use the default template values to include content on your automated emails.

The default email template has 8 items in which you can include variable content. To add your customized content, include a JSON object in the **Object** section with the 8 default keys and the values you wish them to display.

_This is the basic structure of the data object corresponding to the default email template:_

```json
{
    "recipientName": string,
    "recipientEmail": string,
    "title": string,
    "messageA": string,
    "messageB": string,
    "action": string,
    "code": string,
    "companyName": string,
}
```

_Below is an example of what an email looks like using the default template:_

<div className="container">
<div className="row">
<div className="col col--6">

<div className="img_sizing_narrow">

![template](/img/bot_send_email_00v3.png)

</div>
</div>

<div className="col col--6">
<br/>

- **<span className="badge badge--danger">1.</span>** `recipientName`
- **<span className="badge badge--danger">2.</span>** `recipientEmail`
- **<span className="badge badge--danger">3.</span>** `title`
- **<span className="badge badge--danger">4.</span>** `messageA`
- **<span className="badge badge--danger">5.</span>** `messageB`
- **<span className="badge badge--danger">6.</span>** `action`
- **<span className="badge badge--danger">7.</span>** `code`
- **<span className="badge badge--danger">8.</span>** `companyName`

</div>

</div>
</div>

:::note
COTLang can be included on the strings to include context data into your strings.
:::

### Custom Template {#custom}
If you wish to provide a custom template for your emails, add the **HTML Template** option from the **Add Optional Inputs** section.

Add your HTML code in the HTML Template code box.

The variables in your template must follow the `{{content.key}}` format.

_Below is a simple example of an HTML template:_

```html
<html>
  <head>
    <h1>This is the Header with some automated content: {{content.sendMessageStatus}}</h1>
  </head>
  <body>
    <p>{{content.intro}} {{content.recipientName}}!</p>
    Today is {{content.date}}.
  </body>
</html>
```

_In the **Object** section, the customized template's variables can be filled out with static and automated content, as shown in the example below:_

```json
{
  "sendMessageStatus": "$OUTPUT#send_message#status",
  "recipientName": "Diego",
  "intro": "$OUTPUT#ccjs_function#data|first",
  "date": "$OUTPUT#ccjs_function#data|second"
}
```

Through **Add Optional Input**, you can modify your HTML template's design with a **CSS Template**.

_Simply insert CSS code, as shown below:_ 

```css
p {
  text-decoration: underline;
  color: red;
}
```


---
_Below you will find the complete list of options available on the Send Email (v3.0.0) stage bot:_
---
